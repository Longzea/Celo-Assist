{"version":3,"sources":["images/celo-1.jpg","components/Header.js","components/RequestLists.js","App.js","index.js"],"names":["Header","_ref","modal","toggle","createRequest","balance","loading","celo","_useState","useState","_useState2","_slicedToArray","payeeFullName","setPayeeFullName","_useState3","_useState4","payeeDescription","setPayeeDescription","_useState5","_useState6","networkType","setNetworkType","_useState7","_useState8","payeeGasFee","setPayeeGasFee","closeBtn","_jsx","className","onClick","type","children","_jsxs","_Fragment","Container","Button","color","disabled","src","banner","alt","width","Modal","isOpen","backdrop","ModalHeader","close","ModalBody","Label","style","fontSize","Input","placeholder","required","value","onChange","e","target","ModalFooter","Spinner","size","Index","requests","contract","kit","address","getBalance","getRequests","setModal","requestDetails","setRequestDetails","message","setMessage","chats","setChats","_useState9","_useState10","setDisabled","_useState11","_useState12","loadChats","setLoadChats","_useState13","_useState14","viewChats","setViewChats","_useState15","_useState16","disableChatButton","setDisableChaButton","_useState17","_useState18","disableDeletetBtn","setDisableDeletetBtn","getRequestById","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","id","wrap","_context2","prev","next","Promise","_ref3","_callee","resolve","reject","data","_context","methods","fetchPayeeById","call","sent","owner","BigNumber","stop","_x2","_x3","apply","arguments","then","result","console","log","catch","error","_x","fundPayee","_ref4","_callee3","_price","_index","cUSDContract","cost","_context3","web3","eth","Contract","erc20","shiftedBy","toString","approve","send","from","alert","t0","_x4","_x5","chat","_ref5","_callee4","_context4","storeChatMessages","getChatsById","_x6","_ref6","_callee5","_context5","_x7","deleteRequestById","_ref7","_callee6","_context6","deletePayeeRequest","_x8","filter","item","index","map","request","Blockies","seed","scale","margin","padding","fontWeight","Math","pow","itm","idx","App","celoBalance","setCeloBalance","setcontract","setAddress","setKit","cUSDBalance","setcUSDBalance","setRequests","setLoading","connectCeloWallet","_kit","accounts","user_address","window","enable","Web3","newKitFromWeb3","getAccounts","defaultAccount","useEffect","USDBalance","getTotalBalance","CELO","toFixed","cUSD","celoassist","requestLength","_requests","_loop","allRequests","getPayeeLength","_request","push","delegateYield","all","_payeeFullName","_payeeDescription","_payeeGasFee","_networkType","createPayee","RequestLists","ReactDOM","render","React","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.318591a3.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/celo-1.d4b7af52.jpg\";","import { useState } from 'react';\nimport {\n  Button, Container, ModalHeader, Modal, ModalBody,\n  ModalFooter, className, Input, Label, Spinner\n} from 'reactstrap';\nimport banner from '../images/celo-1.jpg';\n\nconst Header = ({ modal, toggle, createRequest, balance, celo, loading }) => {\n\n  // Declaring variables\n  const [payeeFullName, setPayeeFullName] = useState('');\n  const [payeeDescription, setPayeeDescription] = useState('');\n  const [networkType, setNetworkType] = useState('')\n  const [payeeGasFee, setPayeeGasFee] = useState(0);\n\n  // Button that closes a modal.\n  const closeBtn = (\n    <button className=\"close\" onClick={toggle} type=\"button\">\n      &times;\n    </button>\n  );\n\n  return (\n    <>\n      <header className='d-flex justify-content-between p-3'>\n        <h6>CeloAssist</h6>\n        <h6 className=\"shadow\">\n          {/* {celo} {\" \"} Celo */}\n          {balance} {' '}cUSD\n        </h6>\n\n      </header>\n\n      <br />\n\n      <Container>\n        <div className='row'>\n          <div className='col-md-6 '>\n            <h5>Celo Assist</h5>\n\n            <p>Celo-Assist is a decentralized web application platform where a \n              developer or user can assist another developer or user in paying for their gas fee, mint fee or \n              anything that might require a small of Celo or cUSD be it testnet or mainnet. </p>\n            <Button color=\"success\" onClick={toggle} disabled={loading}>Create a Request</Button>\n          </div>\n\n\n          <div className='col-md-6'>\n            <img src={banner} alt='banner' className='br-2 rounded shadow' width=\"100%\" />\n          </div>\n\n        </div>\n      </Container>\n\n      <Modal isOpen={modal} toggle={toggle} className={className} backdrop={'static'}>\n        <ModalHeader toggle={toggle} close={closeBtn}>\n          Create a Request\n        </ModalHeader>\n        <ModalBody>\n          <Label style={{ fontSize: \"12px\" }}>Fullname</Label>\n          <Input type=\"text\" placeholder=\"Fullname\" required value={payeeFullName} onChange={(e) => setPayeeFullName(e.target.value)} />\n\n          <br />\n\n          <Label style={{ fontSize: \"12px\" }}>Description</Label>\n          <Input type=\"textarea\" placeholder=\"Description\" required value={payeeDescription} onChange={(e) => setPayeeDescription(e.target.value)} />\n\n          <br />\n\n          <Label style={{ fontSize: \"12px\" }}>Amount</Label>\n          <Input type=\"number\" placeholder=\"Fee\" required value={payeeGasFee} onChange={(e) => setPayeeGasFee(e.target.value)} />\n\n          <br />\n\n          <Label style={{ fontSize: \"12px\" }}>Network Type</Label>\n          <Input type='select' value={networkType} required onChange={(e) => setNetworkType(e.target.value)}>\n            <option value=\"\">Select---</option>\n            <option value=\"Testnet\">Testnet</option>\n            <option value=\"Mainnet\">Mainnet</option>\n          </Input>\n\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"success\"\n            onClick={() => createRequest(payeeFullName, payeeDescription, payeeGasFee, networkType)}\n            disabled={loading}\n          >\n\n            {!loading ?\n              <span>Submit </span> :\n              <>\n                <Spinner size=\"sm\">\n                  Loading...\n                </Spinner>\n                <span>\n                  {' '}Submitting\n                </span>\n              </>\n            }\n          </Button>\n        </ModalFooter>\n      </Modal>\n    </>\n\n  );\n}\n\nexport default Header","import { useState } from 'react';\nimport Blockies from 'react-blockies';\nimport {\n  Button, Container, ModalHeader, Modal,\n  ModalBody, className, Input, Spinner\n} from 'reactstrap';\nimport BigNumber from \"bignumber.js\";\nimport erc20 from '../abis/irc.abi.json';\nconst ERC20_DECIMALS = 18;\nconst contractAddress = \"0xbF3e77C4ab5c82485D2487e170b8457aEb2037F0\";\nconst cUSDContractAddress = \"0x874069Fa1Eb16D44d622F2e0Ca25eeA172369bC1\";\n\n\nconst Index = ({ requests, contract, kit, address, loading, getBalance, getRequests }) => {\n\n  // Declaring variables  \n  const [modal, setModal] = useState(false);\n  const [requestDetails, setRequestDetails] = useState({})\n  const [message, setMessage] = useState('')\n  const [chats, setChats] = useState(null)\n  const [disabled, setDisabled] = useState(false)\n  const [loadChats, setLoadChats] = useState(false)\n  const [viewChats, setViewChats] = useState(false)\n  const [disableChatButton, setDisableChaButton] = useState(false)\n  const [disableDeletetBtn, setDisableDeletetBtn] = useState(false)\n\n\n  // function that toggles a modal.\n  const toggle = () => {\n    setViewChats(false)\n    setModal(!modal)\n  };\n\n  // Button that closes a modal.\n  const closeBtn = (\n    <button className=\"close\" onClick={toggle} type=\"button\">\n      &times;\n    </button>\n  );\n\n// An async function that fetch a user requests by it's id.\n  const getRequestById = async function (id) {\n    let _request = new Promise(async (resolve, reject) => {\n      let data = await contract.methods.fetchPayeeById(id).call();\n      resolve({\n        id: id,\n        owner: data[0],\n        payeeFullName: data[1],\n        payeeDescription: data[2],\n        networkType: data[3],\n        payeeGasFee: new BigNumber(data[4]),\n      })\n    }).then((result) => {\n      console.log(result)\n      setRequestDetails(result)\n      setModal(true)\n    })\n      .catch((error) => console.error(error));\n  }\n\n  // An async function that transfer fund to a payee. \n  const fundPayee = async (_price, _index) => {\n    setDisabled(true)\n    try {\n      const cUSDContract = new kit.web3.eth.Contract(erc20, cUSDContractAddress);\n      const cost = new BigNumber(_price).shiftedBy(ERC20_DECIMALS).toString();\n\n      const result = await cUSDContract.methods\n        .approve(contractAddress, cost)\n        .send({ from: address });\n\n      await contract.methods.fundPayee(_index).send({ from: address });\n      alert('Transfer successful')\n      setDisabled(false)\n      getBalance();\n\n    } catch (error) {\n      console.log({ error });\n    }\n  };\n\n\n// An async function that enables you chat to a user  / payee.\n  const chat = async (id) => {\n    setDisableChaButton(true)\n    try {\n      await contract.methods\n        .storeChatMessages(\n          id, message\n        )\n        .send({ from: address });\n      alert('sent')\n      getChatsById(id)\n      setDisableChaButton(false)\n      setMessage('')\n\n    } catch (error) {\n      console.log(error);\n      alert('Error')\n      setDisableChaButton(false)\n    }\n  }\n\n\n// An async function that fetchs chat of a user by it's id\n  const getChatsById = async function (id) {\n    setLoadChats(true)\n    try {\n      let data = await contract.methods.getChatsById(id).call();\n      setChats(data)\n      setLoadChats(false)\n      setViewChats(true)\n    }\n    catch (error) {\n      alert('failed to fetch data')\n      setLoadChats(false)\n    }\n  }\n\n  // An async function that deletes a user's request\n  const deleteRequestById = async function (id) {\n    setDisableDeletetBtn(true)\n    try {\n      await contract.methods\n        .deletePayeeRequest(\n          id\n        )\n        .send({ from: address });\n      alert('Request deleted')\n      getRequests()\n      setDisableDeletetBtn(false)\n      setModal(false)\n\n    } catch (error) {\n      console.log(error);\n      alert('Error')\n      setDisableDeletetBtn(false)\n\n    }\n  }\n  return (\n    <>\n      <Container>\n\n        <div className=\"row\">\n          <center>\n            <h3 className=\"my-5\">Requests</h3>\n          </center>\n          {loading ?\n            <center>\n              <p style={{ fontSize: '12px' }}>Loading requests please wait...</p>\n            </center>\n            :\n            requests.filter((item, index) => item.owner !== \"0x0000000000000000000000000000000000000000\")\n              .map(request =>\n                <div className=\"card shadow col-lg-4 col-md-4 col-sm-12 ml-3 mr-1 mb-3 p-0\">\n                  <div className=\"card-body p-2\">\n                    <div className='d-flex'>\n                      <div>\n                        <Blockies\n                          seed={request.owner}\n                          size={10}\n                          scale={3}\n                          className=\"identicon rounded-circle\"\n                        />\n                      </div>\n\n\n                      <div className='mx-3'>\n                        <h6>{request.payeeFullName}</h6>\n                        <p style={{ margin: 0, padding: 0, fontSize: '12px' }}>\n                          {/* Price:${request.payeeGasFee / 10 ** 18} */}\n                          Network Type: {request.networkType}\n                        </p>\n\n                      </div>\n                      <Button size='sm' color='success' className='p-1 flex-end'\n                        onClick={() => getRequestById(request.index)}>View</Button>\n                    </div>\n\n                  </div>\n                </div>)}\n        </div>\n      </Container>\n\n      <Modal isOpen={modal} toggle={toggle} className={className} backdrop={'static'}>\n        <ModalHeader toggle={toggle} close={closeBtn} className='d-flex justify-content-between'>\n          <span>Details:</span>\n\n        </ModalHeader>\n        <ModalBody>\n          <div className=\"card\">\n            <div className=\"card-body\">\n              <div className='d-flex'>\n                <div>\n                  <Blockies\n                    seed={requestDetails.owner}\n                    size={10}\n                    scale={3}\n                    className=\"identicon rounded-circle\"\n                  />\n                </div>\n\n\n                <div className='mx-3'>\n                  <h6 className=\"title\">{requestDetails.payeeFullName}</h6>\n                  <p style={{ fontWeight: 'bold' }} className='p-0 m-0'>Description:</p>\n                  <p style={{ fontSize: '15px' }} className='p-0 m-0'>{requestDetails.payeeDescription}</p>\n                  <p style={{ fontWeight: 'bold' }} className='p-0 m-0'>\n                    Amount:\n                  </p>\n                  <p style={{ fontSize: '15px' }} className='p-0 m-0'>{requestDetails.payeeGasFee / 10 ** 18} cUSD / Celo</p>\n\n                  <p style={{ fontWeight: 'bold' }} className='p-0 m-0'>Network Type:</p>\n                  <p style={{ fontSize: '15px' }} className='p-0 m-0'>{requestDetails.networkType}</p>\n\n                  <p style={{ fontWeight: 'bold' }} className='p-0 m-0'>Wallet Address:</p>\n                  <p style={{ fontSize: '15px' }} className='p-0 m-0'>{requestDetails.owner}</p>\n\n                  <br />\n                  <Button size='sm' color='success' disabled={disabled}\n                    onClick={() => fundPayee(requestDetails.payeeGasFee / 10 ** 18, requestDetails.id)}\n                  >\n\n                    {!disabled ?\n                      <span>Transfer {requestDetails.payeeGasFee / 10 ** 18} cUSD </span> :\n                      <>\n                        <Spinner size=\"sm\">\n                          Loading...\n                        </Spinner>\n                        <span>\n                          {' '}Transfering\n                        </span>\n                      </>\n                    }\n                  </Button>\n\n                  <Button size='sm' className='mx-2' color='primary' disabled={disabled}\n                    onClick={() => getChatsById(requestDetails.id)}\n                  >\n\n                    {!loadChats ?\n                      <span>Chat </span> :\n                      <>\n                        <Spinner size=\"sm\">\n                          Loading...\n                        </Spinner>\n                        <span>\n                          {' '}Loading\n                        </span>\n                      </>\n                    }\n\n                  </Button>\n\n                  <Button size='sm' className='mx-4' color='danger'\n                    onClick={() => deleteRequestById(requestDetails.id)}\n                    disabled={disableDeletetBtn}\n                  >\n\n                    {!disableDeletetBtn ?\n                      <span>Delete </span> :\n                      <>\n                        <Spinner size=\"sm\">\n                          Loading...\n                        </Spinner>\n                        <span>\n                          {' '}Deleting\n                        </span>\n                      </>\n                    }\n                  </Button>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {viewChats &&\n            <div className=\"card\">\n              <div className=\"card-body\">\n                <div className='d-flex align-items-center'>\n                  <Input type='text' placeholder='Type your message'\n                    value={message} onChange={(e) => setMessage(e.target.value)}\n                  />\n                  <Button size='sm' disabled={disableChatButton} className='bg-success'\n                    onClick={() => chat(requestDetails.id)}>\n\n                    {!disableChatButton ?\n                      <span>Send </span> :\n                      <>\n                        <Spinner size=\"sm\">\n                          Loading...\n                        </Spinner>\n\n                      </>\n                    }\n                  </Button>\n                </div>\n\n                {chats && chats.map((itm, idx) => (\n                  <div className='bg-info rounded mt-2 p-1 text-white d-flex'>\n\n\n                    <Blockies\n                      seed={itm[0]}\n                      size={10}\n                      scale={3}\n                      className=\"identicon rounded-circle\"\n\n                    />\n\n\n                    <p style={{ fontSize: '12px', fontWeight: \"bold\" }} className='m-0 p-0 mx-2'>{itm[1]}</p>\n                  </div>\n                )\n                )}\n              </div>\n            </div>\n          }\n\n        </ModalBody>\n      </Modal>\n    </>\n  )\n}\n\nexport default Index;","import React, { useState, useEffect } from 'react';\nimport Web3 from 'web3'\nimport { newKitFromWeb3 } from '@celo/contractkit';\nimport BigNumber from \"bignumber.js\";\nimport celoassist from './abis/celoassist.abi.json';\nimport erc20 from './abis/irc.abi.json';\nimport Header from './components/Header';\nimport RequestLists from './components/RequestLists';\n\n\nconst ERC20_DECIMALS = 18;\n\n// Deployed smart contract address.\nconst contractAddress = \"0xbF3e77C4ab5c82485D2487e170b8457aEb2037F0\";\n\n// cUSD contract address contract address.\nconst cUSDContractAddress = \"0x874069Fa1Eb16D44d622F2e0Ca25eeA172369bC1\";\n\n\nfunction App() {\n\n// Declaring variables.\n  const [celoBalance, setCeloBalance] = useState(0);\n  const [contract, setcontract] = useState(null);\n  const [address, setAddress] = useState(null);\n  const [kit, setKit] = useState(null);\n  const [cUSDBalance, setcUSDBalance] = useState(0);\n  const [requests, setRequests] = useState([]);\n  const [modal, setModal] = useState(false);\n  const [loading, setLoading] = useState(false)\n  const toggle = () => setModal(!modal);\n\n\n// An async function that connects your wallet to the dApp.\n  const connectCeloWallet = async () => {\n    if (window.celo) {\n      try {\n        await window.celo.enable();\n        const web3 = new Web3(window.celo);\n        let kit = newKitFromWeb3(web3);\n\n        const accounts = await kit.web3.eth.getAccounts();\n        const user_address = accounts[0];\n\n        kit.defaultAccount = user_address;\n\n        await setAddress(user_address);\n        await setKit(kit);\n\n      } catch (error) {\n        console.log('There is an error')\n        console.log({ error });\n      }\n    } else {\n      console.log(\"please install the extension\");\n    }\n  };\n\n// useEffect that calls  the connect wallet function each time the page loads.\n  useEffect(() => {\n    connectCeloWallet();\n  }, []);\n\n\n// useEffect that calls  the get balance function each time the page loads.  \n  useEffect(() => {\n    if (kit && address) {\n      return getBalance();\n    } else {\n      console.log(\"no kit or address\");\n    }\n  }, [kit, address]);\n\n  useEffect(() => {\n    if (contract) {\n      getRequests()\n    };\n  }, [contract]);\n\n\n// An async function that gets the balance in your celo wallet.\n  const getBalance = async () => {\n    setLoading(true)\n    const balance = await kit.getTotalBalance(address);\n    const celoBalance = balance.CELO.shiftedBy(-ERC20_DECIMALS).toFixed(2);\n    const USDBalance = balance.cUSD.shiftedBy(-ERC20_DECIMALS).toFixed(2);\n\n    const contract = new kit.web3.eth.Contract(celoassist, contractAddress);\n    setcontract(contract);\n    setCeloBalance(celoBalance);\n    setcUSDBalance(USDBalance);\n    setLoading(false)\n  };\n\n  // An async function that retrives all payee requests from the smart contract.\n  const getRequests = async function () {\n    const requestLength = await contract.methods.getPayeeLength().call();\n    const _requests = [];\n    for (let index = 0; index < requestLength; index++) {\n      let _request = new Promise(async (resolve, reject) => {\n        let data = await contract.methods.fetchPayeeById(index).call();\n        resolve({\n          index: index,\n          owner: data[0],\n          payeeFullName: data[1],\n          payeeDescription: data[2],\n          networkType: data[3],\n          payeeGasFee: new BigNumber(data[4]),\n        })\n      });\n\n      _requests.push(_request);\n      setModal(false)\n    }\n    const allRequests = await Promise.all(_requests);\n    setRequests(allRequests);\n  }\n\n  // An async function that add payee request to the smart contract\n  const createRequest = async (_payeeFullName, _payeeDescription, _payeeGasFee, _networkType) => {\n    setLoading(true)\n    try {\n      const payeeGasFee = new BigNumber(_payeeGasFee).shiftedBy(ERC20_DECIMALS).toString();\n      await contract.methods\n        .createPayee(\n          _payeeFullName, _payeeDescription, _networkType, payeeGasFee\n        )\n        .send({ from: address });\n      setLoading(false)\n      alert('Request created')\n      getRequests();\n\n    } catch (error) {\n      alert('Terminated')\n    }\n\n  }\n\n\n  return (\n\n    <div className=\"content\">\n    {/* Header component that recieves props */}\n      <Header balance={cUSDBalance} celo={celoBalance} modal={modal}\n        toggle={toggle} createRequest={createRequest} loading={loading} />\n\n{/* Request List component that recieves props */}\n      <RequestLists requests={requests} contract={contract} kit={kit} address={address}\n        loading={loading} getBalance={getBalance} getRequests={getRequests}/>\n    </div>\n\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n// import './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}